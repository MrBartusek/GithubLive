(this["webpackJsonpgithub-live"]=this["webpackJsonpgithub-live"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(20),i=n.n(s),o=(n(73),n(8)),c=n(9),l=n(11),u=n(13),d=(n(74),n(113)),p=n(107),h=n(2),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(h.jsx)(d.a,{bg:"dark",variant:"dark",children:Object(h.jsx)(p.a,{children:Object(h.jsx)(d.a.Brand,{children:"GithubLIVE"})})})}}]),n}(r.a.Component),j=n(19),O=n(3),f=n(16),v=n(14),g=n.n(v),x=n(58),m=(n(79),n(80),n(108)),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.icon;return Object(h.jsxs)(m.a,{pill:!0,style:{fontSize:14},ref:function(t){return t&&t.style.setProperty("background-color",e.props.color,"important")},children:[Object(h.jsx)(t,{size:18})," ",this.props.content]})}}]),n}(r.a.Component),E=n(109);function C(e){return function(e){return e.login.endsWith("[bot]")}(e)?"https://github.com/apps/".concat(e.login.substr(0,e.login.length-5)):"https://github.com/".concat(e.login)}var S=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.eventInfo;return null===e?"":Object(h.jsxs)("div",{className:"event",children:[Object(h.jsx)(y,{color:e.color,icon:e.icon,content:e.type}),Object(h.jsxs)("div",{className:"mt-3 d-flex",children:[Object(h.jsxs)("div",{className:"me-4 d-flex flex-column",children:[Object(h.jsx)("a",{href:C(e.event.actor),children:Object(h.jsx)(E.a,{height:"80px",style:{minHeight:"80px"},src:this.avatarUrl(e)+"?size=80",rounded:!0})}),Object(h.jsx)("small",{className:"text-center mt-1",children:"5 minutes ago"})]}),Object(h.jsx)("div",{children:e.header})]})]})}},{key:"avatarUrl",value:function(e){var t=e.event;return("PullRequestEvent"===t.type?t.payload.pull_request.user.avatar_url:"IssuesEvent"===t.type?t.payload.issue.user.avatar_url:"IssueCommentEvent"===t.type||"CommitCommentEvent"===t.type?t.payload.comment.user.avatar_url:"ReleaseEvent"===t.type?t.payload.release.author.avatar_url:t.actor.avatar_url).replace("?v=4","")}}]),n}(r.a.Component),R=n(59);function k(e){return T.apply(this,arguments)}function T(){return(T=Object(j.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N,_=n(12);!function(e){e.COMMIT_COMMENT="Commit Comment",e.CREATE_TAG="Create Tag",e.CREATE_BRACH="Create Branch",e.CREATE_REPO="Create Repository",e.DELETE_TAG="Delete Tag",e.DELETE_BRACH="Delete Branch",e.DELETE_REPO="Delete Repository",e.FORK_REPO="Fork",e.STAR_REPO="Star",e.COLLABORATOR_ADD="Collaborator Add",e.PUSH="Push",e.WIKI_EDIT="Wiki Edit",e.ISSUE="Issue",e.ISSUE_COMMENT="Issue Comment",e.PR="Pull Request",e.PR_COMMENT="Pull Request Comment",e.PR_REVIEW="Pull Request Review",e.PR_REVIEW_COMMENT="Pull Request Review Comment",e.PUBLIC="Public",e.RELEASE="Release",e.OTHER="Other"}(N||(N={}));var M,U=N;function I(e){var t={event:e},n=function(e){var t=e.actor;return Object(h.jsx)("a",{className:"font-weight-bold",href:C(t),children:t.display_login||t.login})}(e),a=function(e){var t=e.repo;return Object(h.jsx)("a",{href:"https://github.com/"+t.name,children:t.name})}(e),r=function(e){return Object(h.jsxs)("span",{children:[Object(h.jsx)("code",{children:e.payload.ref})," (",e.payload.ref_type,")"]})}(e);if("CommitCommentEvent"===e.type){var s=function(e){var t=e.payload.comment.commit_id;return Object(h.jsx)("a",{href:"https://github.com/".concat(e.repo.name,"/commit/").concat(t),children:Object(h.jsx)("code",{children:t.substr(0,8)})})}(e);return Object(O.a)(Object(O.a)({},t),{},{type:U.COMMIT_COMMENT,icon:_.b,color:M.COMMENT,header:Object(h.jsxs)("span",{children:[n," commented on ",s," in ",a]})})}if("CreateEvent"===e.type){if("tag"===e.payload.ref_type)return Object(O.a)(Object(O.a)({},t),{},{type:U.CREATE_TAG,color:M.SUCCESS,icon:_.q,header:Object(h.jsxs)("span",{children:[n," created ",r," in ",a]})});if("branch"===e.payload.ref_type)return Object(O.a)(Object(O.a)({},t),{},{type:U.CREATE_BRACH,color:M.SUCCESS,icon:_.d,header:Object(h.jsxs)("span",{children:[n," created ",r," in ",a]})});if("repository"===e.payload.ref_type)return Object(O.a)(Object(O.a)({},t),{},{type:U.CREATE_REPO,color:M.SUCCESS,icon:_.m,header:Object(h.jsxs)("span",{children:[n," created new repository ",a]})})}else if("DeleteEvent"===e.type){if("tag"===e.payload.ref_type)return Object(O.a)(Object(O.a)({},t),{},{type:U.DELETE_TAG,color:M.DANGER,icon:_.r,header:Object(h.jsxs)("span",{children:[n," deleted ",r," in ",a]})});if("branch"===e.payload.ref_type)return Object(O.a)(Object(O.a)({},t),{},{type:U.DELETE_BRACH,color:M.DANGER,icon:_.r,header:Object(h.jsxs)("span",{children:[n," deleted ",r," in ",a]})});if("repository"===e.payload.ref_type)return Object(O.a)(Object(O.a)({},t),{},{type:U.DELETE_REPO,color:M.DANGER,icon:_.r,header:Object(h.jsxs)("span",{children:[n," deleted ",a]})})}else{if("ForkEvent"===e.type){var i=function(e){var t=e.payload.forkee;return Object(h.jsx)("a",{href:t.html_url,children:t.full_name})}(e);return Object(O.a)(Object(O.a)({},t),{},{type:U.FORK_REPO,color:M.INFO,icon:_.n,header:Object(h.jsxs)("span",{children:[n," forked ",i," from ",a]})})}if("PushEvent"===e.type){var o=function(e){var t=e.payload.commits;if(0===t.length)return null;if(1===t.length){var n=t[0].sha;return Object(h.jsx)("a",{href:"https://github.com/".concat(e.repo.name,"/commit/").concat(n),children:Object(h.jsx)("code",{children:n.substr(0,8)})})}return Object(h.jsxs)("span",{children:[Object(h.jsx)("code",{children:t.length})," commits"]})}(e);return null===o?null:Object(O.a)(Object(O.a)({},t),{},{type:U.PUSH,color:M.MISC,icon:_.o,header:Object(h.jsxs)("span",{children:[n," pushed ",o," into ",a]})})}if("WatchEvent"===e.type){if("started"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.STAR_REPO,color:M.STAR,icon:_.p,header:Object(h.jsxs)("span",{children:[n," starred ",a]})})}else if("IssueCommentEvent"===e.type){var c,l=A(e);if(void 0!==(null===(c=e.payload.issue)||void 0===c?void 0:c.pull_request)){if("created"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR_COMMENT,color:M.COMMENT,icon:_.b,header:Object(h.jsxs)("span",{children:[n," commented on pull request ",l," in ",a]})});if("deleted"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR_COMMENT,color:M.DANGER,icon:_.b,header:Object(h.jsxs)("span",{children:[n," deleted comment on pull request ",l," in ",a]})});if("edited"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR_COMMENT,color:M.EDIT,icon:_.b,header:Object(h.jsxs)("span",{children:[n," edited comment on pull request ",l," in ",a]})})}else{if("created"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE_COMMENT,color:M.COMMENT,icon:_.b,header:Object(h.jsxs)("span",{children:[n," commented on issue ",l," in ",a]})});if("deleted"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE_COMMENT,color:M.DANGER,icon:_.b,header:Object(h.jsxs)("span",{children:[n," deleted comment on issue ",l," in ",a]})});if("edited"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE_COMMENT,color:M.EDIT,icon:_.b,header:Object(h.jsxs)("span",{children:[n," edited comment on issue ",l," in ",a]})})}}else if("IssuesEvent"===e.type){var u=A(e);if("opened"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE,color:M.SUCCESS,icon:_.h,header:Object(h.jsxs)("span",{children:[n," opened issue ",u," in ",a]})});if("reopened"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE,color:M.SUCCESS,icon:_.i,header:Object(h.jsxs)("span",{children:[n," reopened issue ",u," in ",a]})});if("closed"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE,color:M.MERGE,icon:_.g,header:Object(h.jsxs)("span",{children:[n," closed issue ",u," in ",a]})});if("assigned"===e.payload.action){var d,p,b,j,f=Object(h.jsx)("a",{href:null===(d=e.payload.issue)||void 0===d||null===(p=d.assignee)||void 0===p?void 0:p.html_url,children:null===(b=e.payload.issue)||void 0===b||null===(j=b.assignee)||void 0===j?void 0:j.login});return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE,color:M.EDIT,icon:_.k,header:Object(h.jsxs)("span",{children:[n," assigned ",f," to issue ",u," in ",a]})})}if("unassigned"===e.payload.action){var v,g,x,m,y=Object(h.jsx)("a",{href:null===(v=e.payload.issue)||void 0===v||null===(g=v.assignee)||void 0===g?void 0:g.html_url,children:null===(x=e.payload.issue)||void 0===x||null===(m=x.assignee)||void 0===m?void 0:m.login});return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE,color:M.EDIT,icon:_.k,header:Object(h.jsxs)("span",{children:[n," unassigned ",y," from issue ",u," in ",a]})})}if("labeled"===e.payload.action){var E=Object(h.jsx)("code",{children:e.payload.label.name});return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE,color:M.EDIT,icon:_.q,header:Object(h.jsxs)("span",{children:[n," added label ",E," to issue ",u," in ",a]})})}if("unlabeled"===e.payload.action){var S=Object(h.jsx)("code",{children:e.payload.label.name});return Object(O.a)(Object(O.a)({},t),{},{type:U.ISSUE,color:M.EDIT,icon:_.q,header:Object(h.jsxs)("span",{children:[n," removed label ",S," to issue ",u," in ",a]})})}}else if("PullRequestReviewEvent"===e.type){var R=P(e);if("created"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR_REVIEW,color:M.INFO,icon:_.c,header:Object(h.jsxs)("span",{children:[n," reviewed ",R," in ",a]})})}else if("PullRequestReviewCommentEvent"===e.type){var k=P(e);if("created"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR_REVIEW_COMMENT,color:M.COMMENT,icon:_.b,header:Object(h.jsxs)("span",{children:[n," commented on review of ",k," in ",a]})})}else{if("PublicEvent"===e.type)return Object(O.a)(Object(O.a)({},t),{},{type:U.PUBLIC,color:M.SUCCESS,icon:_.m,header:Object(h.jsxs)("span",{children:[n," published new repository ",a]})});if("PullRequestEvent"===e.type){var T=P(e);if("opened"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR,color:M.SUCCESS,icon:_.f,header:Object(h.jsxs)("span",{children:[n," opened pull request ",T," in ",a]})});if("reopened"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR,color:M.SUCCESS,icon:_.f,header:Object(h.jsxs)("span",{children:[n," reopened pull request ",T," in ",a]})});if("closed"===e.payload.action&&e.payload.pull_request.merged)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR,color:M.MERGE,icon:_.e,header:Object(h.jsxs)("span",{children:[n," merged pull request ",T," in ",a]})});if("closed"===e.payload.action&&!e.payload.pull_request.merged)return Object(O.a)(Object(O.a)({},t),{},{type:U.PR,color:M.DANGER,icon:_.f,header:Object(h.jsxs)("span",{children:[n," closed pull request ",T," in ",a]})})}else if("ReleaseEvent"===e.type){var N=function(e){var t=e.payload.release,n=t.name&&t.name.length>0?t.name:t.tag;return Object(h.jsx)("a",{href:t.html_url,children:Object(h.jsx)("code",{children:n})})}(e);if("published"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.RELEASE,color:M.INFO,icon:_.j,header:Object(h.jsxs)("span",{children:[n," published ",N," (release) in ",a]})})}else if("MemberEvent"===e.type){var I=function(e){var t=e.payload.member;return Object(h.jsx)("a",{href:t.html_url,children:t.login})}(e);if("added"===e.payload.action)return Object(O.a)(Object(O.a)({},t),{},{type:U.COLLABORATOR_ADD,color:M.EDIT,icon:_.k,header:Object(h.jsxs)("span",{children:[n," added ",I," as collaborator to ",a]})})}else if("GollumEvent"===e.type)return Object(O.a)(Object(O.a)({},t),{},{type:U.WIKI_EDIT,color:M.EDIT,icon:_.a,header:Object(h.jsxs)("span",{children:[n," updated wiki for ",a]})})}}return Object(O.a)(Object(O.a)({},t),{},{type:U.OTHER,color:M.DANGER,icon:_.l,header:Object(h.jsxs)("span",{style:{color:M.DANGER,fontWeight:600},children:["This event could not be loaded!",Object(h.jsx)("br",{}),Object(h.jsx)("code",{children:JSON.stringify(e)})]})})}function P(e){var t=e.payload.pull_request;return Object(h.jsxs)("a",{href:t.html_url,className:"font-weight-bold",children:["#",t.number]})}function A(e){var t=e.payload.issue;return Object(h.jsxs)("a",{href:null===t||void 0===t?void 0:t.html_url,className:"font-weight-bold",children:["#",null===t||void 0===t?void 0:t.number]})}!function(e){e.SUCCESS="#27ae60",e.DANGER="#c0392b",e.COMMENT="#2c3e50",e.STAR="#f1c40f",e.EDIT="#f39c12",e.MERGE="#9b59b6",e.INFO="#2980b9",e.MISC="#95a5a6"}(M||(M={}));var D,w=n(110),G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).abortController=void 0,a.state={events:[],animationDuration:100},a.abortController=new AbortController,a.onResetFilters=a.onResetFilters.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.settings.running){e.next=4;break}return e.next=3,this.updateFeed(this.abortController);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(j.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.settings,a=this.props.settings,n.running===a.running){e.next=12;break}if(!a.running){e.next=11;break}return this.props.onStatusUpdate(D.STARTING),this.abortController=new AbortController,e.next=8,this.updateFeed(this.abortController);case 8:return e.abrupt("return",e.sent);case 11:this.abortController.abort();case 12:if(n.filter===a.filter){e.next=20;break}if(this.setState({events:[]}),!a.running){e.next=20;break}return this.abortController.abort(),this.abortController=new AbortController,e.next=19,this.updateFeed(this.abortController);case 19:return e.abrupt("return",e.sent);case 20:n.poolingSpeed!==a.poolingSpeed&&this.props.onMissRateClear();case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"updateFeed",value:function(){var e=Object(j.a)(g.a.mark((function e(t){var n,a,r,s,i,o,c,l,u,d,p,h,b,j,O,f,v=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.settings,a=0;case 2:if(t.signal.aborted){e.next=58;break}return this.props.onStatusUpdate(D.FETCHING),s=this.props.settings.poolingSpeed,e.next=7,this.props.octokit.activity.listPublicEvents({per_page:100});case 7:if(i=e.sent.data,o=i.map((function(e){return I(e)})).filter((function(e){return!!e})),c=Number(null===(r=o[o.length-1])||void 0===r?void 0:r.event.id),a>0&&0!==(l=c-a)&&this.props.onMissRateUpdate(100/(l+100)),a=c,o=o.filter((function(e){return!n.filter.includes(Object.keys(U)[Object.values(U).indexOf(e.type)])})),o=o.filter((function(e){return-1===v.state.events.findIndex((function(t){return t.event.id===e.event.id}))})),0!==o.length){e.next=18;break}return this.props.onStatusUpdate(D.NO_NEW_EVENTS),e.next=18,k(this.props.settings.poolingSpeed);case 18:u=!1,d=!1,e.prev=20,h=Object(x.a)(o);case 22:return e.next=24,h.next();case 24:if(!(u=!(b=e.sent).done)){e.next=40;break}if(j=b.value,this.props.onStatusUpdate(D.RUNNING),!t.signal.aborted){e.next=29;break}return e.abrupt("break",40);case 29:return(O=this.state.events.slice()).unshift(j),O.length>100&&O.pop(),this.props.settings.poolingSpeed!==s&&(a=0),f=this.props.settings.poolingSpeed/o.length,this.setState({events:O,animationDuration:Math.min(f-10,250)}),e.next=37,k(f);case 37:u=!1,e.next=22;break;case 40:e.next=46;break;case 42:e.prev=42,e.t0=e.catch(20),d=!0,p=e.t0;case 46:if(e.prev=46,e.prev=47,!u||null==h.return){e.next=51;break}return e.next=51,h.return();case 51:if(e.prev=51,!d){e.next=54;break}throw p;case 54:return e.finish(51);case 55:return e.finish(46);case 56:e.next=2;break;case 58:case"end":return e.stop()}}),e,this,[[20,42,46,56],[47,,51,55]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onResetFilters",value:function(e){var t=Object.assign({},this.props.settings);t.filter=["PUSH"],this.props.onSettingsUpdate(t)}},{key:"render",value:function(){if(this.state.events.length>0)return Object(h.jsx)(R.a,{enterAnimation:"none",duration:this.state.animationDuration<240?0:this.state.animationDuration,children:this.state.events.map((function(e){return Object(h.jsx)(S,{eventInfo:e},e.event.id)}))});var e=Object.values(U).length-1,t=this.props.settings.filter.length;return Object(h.jsxs)("p",{className:"lead text-center",style:{marginTop:"100px"},children:[t>=e?"You have excluded all of the events. ":"Waiting for new events... ",t>12?Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)("span",{children:"You can try to "}),Object(h.jsx)(w.a,{variant:"link",className:"p-0",onClick:this.onResetFilters,style:{fontSize:"1.25rem",fontWeight:300,verticalAlign:"baseline"},children:"reset your filters"}),"."]}):""]})}}]),n}(r.a.Component),F=n(67),q=n(15),H=(n(81),n(66)),L=n(112),V=n(62),W=n(114),B=n(60),z=n.n(B),K=n(115),J=n(111),Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.missRate,t=60/(this.props.poolingSpeed/1e3)*100,n=t/e;return Object(h.jsx)(K.a,{variant:"secondary",children:e>0?Object(h.jsxs)(h.Fragment,{children:["Using the current pooling speed, this feed display only around "," ",Object(h.jsxs)("b",{children:[Math.round(100*e*10)/10,"%"]})," "," ","of the total Github activity. That's "," ",Object(h.jsxs)("b",{children:[Math.round(t)," events per minute"]})," "," ","out of total of around "," ",Object(h.jsxs)("b",{children:[Math.round(100*Math.ceil(n/100))," events per minute"]}),"! "," "]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(J.a,{animation:"border",size:"sm"})," ",Object(h.jsx)("span",{children:"Calculating statistics..."})]})})}}]),n}(r.a.Component),Q=(n(83),n(53)),X=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"d-flex justify-content-end align-items-center mt-3",children:[Object(h.jsxs)("span",{className:"text-muted me-2",children:[this.props.showSpinner?Object(h.jsx)(J.a,{animation:"border",size:"sm"}):""," ",this.props.status]}),Object(h.jsx)(w.a,{className:"float-right",size:"sm",style:{width:42,height:42},variant:this.props.running?"success":"danger",onClick:this.props.onClick,children:this.props.running?Object(h.jsx)(Q.a,{size:24}):Object(h.jsx)(Q.b,{size:24})})]})}}]),n}(r.a.Component),Z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleRunningClick=a.handleRunningClick.bind(Object(f.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(f.a)(a)),a.handlePoolingChange=a.handlePoolingChange.bind(Object(f.a)(a)),a.handleTokenChange=a.handleTokenChange.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.settings;return Object(h.jsxs)(p.a,{className:"settings",children:[Object(h.jsx)("h3",{className:"mb-4",children:"Settings"}),Object(h.jsxs)(L.a,{xs:1,md:2,children:[Object(h.jsxs)(V.a,{className:"col-md-6",children:[Object(h.jsxs)(W.a.Label,{children:["Github Personal Token "," - ",Object(h.jsx)("a",{href:"https://github.com/settings/tokens/new?description=GithubLIVE",target:"_blank",rel:"noreferrer",children:"generate new token"})]}),Object(h.jsx)(W.a.Control,{type:"password",placeholder:"ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",isInvalid:""!==e.githubToken&&!e.githubTokenValid,isValid:""!==e.githubToken&&e.githubTokenValid,onChange:this.handleTokenChange}),Object(h.jsx)(W.a.Text,{className:"text-muted",children:"Providing authentication token is not required but highly recommended."})]}),Object(h.jsxs)(V.a,{className:"col-md-6",children:[Object(h.jsx)(W.a.Label,{children:"Pooling speed"}),Object(h.jsxs)("div",{className:"d-flex align-items-center",children:[Object(h.jsx)("span",{children:"Fast"}),Object(h.jsx)(z.a,{min:15,max:100,step:5,disabled:!e.githubTokenValid,value:e.poolingSpeed/1e3,onChange:this.handlePoolingChange}),Object(h.jsx)("span",{children:"Slow"})]})]})]}),Object(h.jsx)(L.a,{className:"mt-2",children:Object(h.jsxs)(V.a,{className:"col-md-12",children:[Object(h.jsx)(W.a.Label,{children:"Events to exclude"}),Object(h.jsx)(H.a,{options:Object.entries(U).filter((function(e){var t=Object(q.a)(e,2);t[0];return t[1]!==U.OTHER})).map((function(e){var t=Object(q.a)(e,2);return{value:t[0],label:t[1]}})),value:e.filter.map((function(e){return{value:e,label:U[e]}})),isMulti:!0,onChange:this.handleFilterChange})]})}),Object(h.jsx)(L.a,{className:"mt-3",children:Object(h.jsx)(V.a,{className:"col-md-12",children:Object(h.jsx)(Y,{missRate:this.props.missRate,poolingSpeed:e.poolingSpeed})})}),Object(h.jsx)(X,{running:e.running,status:this.props.status,showSpinner:[D.FETCHING,D.STARTING].includes(this.props.status),onClick:this.handleRunningClick})]})}},{key:"handleFilterChange",value:function(e){var t=Object.assign({},this.props.settings);t.filter=e.map((function(e){return e.value})),this.props.onSettingsUpdate(t)}},{key:"handlePoolingChange",value:function(e){var t=Object.assign({},this.props.settings);t.poolingSpeed=1e3*e.target.valueAsNumber,this.props.onSettingsUpdate(t)}},{key:"handleTokenChange",value:function(e){var t=Object.assign({},this.props.settings);t.githubToken=e.target.value,this.props.onSettingsUpdate(t)}},{key:"handleRunningClick",value:function(e){var t=Object.assign({},this.props.settings);t.running=!t.running,this.props.onSettingsUpdate(t)}}]),n}(r.a.Component);!function(e){e.STARTING="starting",e.PAUSED="paused",e.RUNNING="running",e.FETCHING="fetching",e.NO_NEW_EVENTS="no new events"}(D||(D={}));var $=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={octokit:a.newOctokit(),missRateHistory:[],settings:{poolingSpeed:6e4,githubToken:"",githubTokenValid:!1,filter:["PUSH"],running:!0},status:D.STARTING},a.onMissRateUpdate=a.onMissRateUpdate.bind(Object(f.a)(a)),a.onSettingsUpdate=a.onSettingsUpdate.bind(Object(f.a)(a)),a.onMissRateClear=a.onMissRateClear.bind(Object(f.a)(a)),a.onStatusUpdate=a.onStatusUpdate.bind(Object(f.a)(a)),a}return Object(c.a)(n,[{key:"newOctokit",value:function(e){return new F.a({request:{fetch:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,Object(O.a)(Object(O.a)({},t),{},{cache:"no-cache"}))}))},auth:e})}},{key:"onMissRateUpdate",value:function(e){var t=this.state.missRateHistory.slice();t.push(e),t.length>5&&t.shift(),this.setState({missRateHistory:t})}},{key:"onMissRateClear",value:function(){this.setState({missRateHistory:[]})}},{key:"onSettingsUpdate",value:function(){var e=Object(j.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({},this.state),this.state.settings.githubToken===t.githubToken){e.next=6;break}return a=this.newOctokit(t.githubToken),e.next=5,a.rateLimit.get().then((function(e){var n=e.data.resources.core.limit>1e3;t.githubTokenValid=n})).catch((function(){t.githubTokenValid=!1}));case 5:t.githubTokenValid&&(n.octokit=a);case 6:t.githubTokenValid||(t.poolingSpeed=6e4),t.running||(n.status=D.PAUSED),n.settings=t,this.setState(n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onStatusUpdate",value:function(e){(this.state.settings.running||this.state.status!==D.PAUSED)&&this.setState({status:e})}},{key:"getMissRate",value:function(){var e=this.state.missRateHistory;return 0===e.length?-1:Number(e.reduce((function(e,t){return e+t}),0))/e.length}},{key:"render",value:function(){return Object(h.jsxs)(p.a,{className:"mt-4",children:[Object(h.jsx)(Z,{missRate:this.getMissRate(),settings:this.state.settings,status:this.state.status,onSettingsUpdate:this.onSettingsUpdate}),Object(h.jsx)(G,{octokit:this.state.octokit,settings:this.state.settings,onMissRateUpdate:this.onMissRateUpdate,onMissRateClear:this.onMissRateClear,onSettingsUpdate:this.onSettingsUpdate,onStatusUpdate:this.onStatusUpdate})]})}}]),n}(r.a.Component),ee=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(b,{}),Object(h.jsx)($,{})]})}}]),n}(r.a.Component);i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(ee,{})}),document.getElementById("root"))},73:function(e,t,n){},74:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.cca3403e.chunk.js.map